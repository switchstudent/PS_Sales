<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>All Sales Data</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css"
    />
    <style>
      .top-performer {
        color: var(--pico-color-green-500);
        font-weight: bold;
      }
      .medium-performer {
        color: var(--pico-color-blue-500);
        font-weight: bold;
      }
      .low-performer {
        color: var(--pico-color-orange-500);
        font-weight: bold;
      }
      .best-performer {
        background-color: var(--pico-color-green-50);
      }
      .currency {
        font-weight: bold;
      }
    </style>
  </head>
  <body>
    <header class="container">
      <nav>
        <ul>
          <li><a href="index.html">Sales Analysis</a></li>
          <li><a href="all-sales-data.html">All Sales Data</a></li>
        </ul>
      </nav>
      <hgroup>
        <h1>All Sales Data</h1>
        <p>Complete sales records using for loop templating</p>
      </hgroup>
    </header>

    <main class="container">
      <section>
        <h2>Sales Team Performance</h2>
        <div class="overflow-auto"></div>
        <table>
          <thead>
            <tr>
              <th>Name</th>
              <th>Location</th>
              <th>Q1 Sales</th>
              <th>Q2 Sales</th>
              <th>Q3 Sales</th>
              <th>Q4 Sales</th>
              <th>Total Sales</th>
              <th>Average Sales</th>
              <th>Performance Grade</th>
            </tr>
          </thead>
          <tbody id="sales-data"></tbody>
        </table>
      </section>
    </main>

    <footer class="container">
      <small>Learning HTML templating with sales data</small>
    </footer>

    <script>
      const salesData = [
        {
          name: "Rajesh",
          location: "Mumbai",
          q1Sales: 120000,
          q2Sales: 145000,
          q3Sales: 130000,
          q4Sales: 155000,
        },
        {
          name: "Sneha",
          location: "Delhi",
          q1Sales: 90000,
          q2Sales: 110000,
          q3Sales: 95000,
          q4Sales: 120000,
        },
        {
          name: "Arun",
          location: "Chennai",
          q1Sales: 100000,
          q2Sales: 125000,
          q3Sales: 115000,
          q4Sales: 135000,
        },
        {
          name: "Kavita",
          location: "Kolkata",
          q1Sales: 85000,
          q2Sales: 95000,
          q3Sales: 138000,
          q4Sales: 255000,
        },
        {
          name: "Sanjay",
          location: "Mumbai",
          q1Sales: 110000,
          q2Sales: 135000,
          q3Sales: 120000,
          q4Sales: 140000,
        },
        {
          name: "Divya",
          location: "Chennai",
          q1Sales: 95000,
          q2Sales: 120000,
          q3Sales: 110000,
          q4Sales: 130000,
        },
      ];
      function totalavgSales() {
        for (let i = 0; i < salesData.length; i++) {
          const person = salesData[i];
          const totalsales =
            person.q1Sales + person.q2Sales + person.q3Sales + person.q4Sales;
          const averagesales = totalsales / 4;

          person.totalsales = totalsales;
          person.averagesales = averagesales;
        }
      }
      function performancegrade(averagesales) {
        if (averagesales >= 140000) return "Top Performer";
        if (averagesales >= 120000 && averagesales < 140000)
          return "Medium Performer";
        if (averagesales <= 120000) return "Low Performer";
      }
      function renderSalesTable() {
        const tbody = document.getElementById("sales-data");
        let tableHTML = "";

        for (let i = 0; i < salesData.length; i++) {
          const sales = salesData[i];
          const grade = performancegrade(sales.averagesales);
          tableHTML += `<tr>
            <td><strong>${sales.name}</strong></td>
            <td>${sales.location}</td>
            <td><strong>₹${sales.q1Sales}</strong></td>
            <td><strong>₹${sales.q2Sales}</strong></td>
            <td><strong>₹${sales.q3Sales}</strong></td>
            <td><strong>₹${sales.q4Sales}</strong></td>
            <td><strong>₹${sales.totalsales}</strong></td>
            <td><strong>₹${sales.averagesales}</strong></td>
            <td><strong>${grade}</strong></td>
            </tr>`;
        }
        tbody.innerHTML = tableHTML;
      }
      function initializePage() {
        totalavgSales();
        renderSalesTable();
      }
      document.addEventListener("DOMContentLoaded", initializePage);
    </script>
  </body>
</html>
